schema_name: OSM Kids
schema_description: Vector tiles for the OSM Kids overlay
attribution: <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy;
  OpenStreetMap contributors</a>
sources:
  osm:
    type: osm
    local_path: /data/planet-latest.osm.pbf
    # url: geofabrik:us/virginia
tag_mappings:
  sort: long
layers:
- id: places
  features:
    # Late High zoom
    - source: osm
      geometry: centroid
      min_zoom: 14
      include_when:
        amenity: public_bookcase
      attributes:
      - key: sort
        value: 100
      - key: sprite
        value: emoji:blue_book
    # Mid High zoom
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        leisure: playground
      attributes:
      - key: sort
        value: 95
      - key: sprite
        value: moji:playground_slide
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        __all__:
          leisure: swimming_pool
          access: 'yes'
      attributes:
      - key: sort
        value: 90
      - key: sprite
        value: emoji:swimmer
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        amenity: kindergarten
      attributes:
      - key: sort
        value: 86
      - key: sprite
        value: emoji:school
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        amenity: school
      attributes:
      - key: sort
        value: 85
      - key: sprite
        value: emoji:school
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        amenity: ice_cream
      attributes:
      - key: sort
        value: 63
      - key: sprite
        value: emoji:icecream
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        shop: video_games
      attributes:
      - key: sort
        value: 72
      - key: sprite
        value: emoji:joystick
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        shop: games
      attributes:
      - key: sort
        value: 70
      - key: sprite
        value: emoji:chess_pawn
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        shop: toys
      attributes:
      - key: sort
        value: 70
      - key: sprite
        value: emoji:teddy_bear
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        __all__:
          __not__:
            books: [religion, erotic, academic, textbook, law, antiquarian, medicine]
          shop: books
      attributes:
      - key: sort
        value: 65
      - key: sprite
        value: emoji:green_book
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 13
      include_when:
        shop: confectionery
      attributes:
      - key: sort
        value: 60
      - key: sprite
        value: emoji:candy
      - key: name
    # Early High zoom
    - source: osm
      geometry: centroid
      min_zoom: 12
      include_when:
        amenity: library
      attributes:
      - key: sort
        value: 55
      - key: sprite
        value: emoji:orange_book
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 11
      include_when:
        __all__:
          leisure: garden
          'garden:type': botanical
      attributes:
      - key: sort
        value: 52
      - key: sprite
        value: emoji:sunflower
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 12
      include_when:
        amenity: fire_station
      attributes:
      - key: sort
        value: 50
      - key: sprite
        value: emoji:fire_engine
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 11
      include_when:
        railway: station
      attributes:
      - key: sort
        value: 45
      - key: sprite
        value: emoji:steam_locomotive
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 11
      include_when:
        tourism: museum
      attributes:
      - key: sort
        value: 96
      - key: sprite
        value: emoji:classical_building
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 11
      include_when:
        __all__:
          tourism: museum
          museum: children
      attributes:
      - key: sort
        value: 40
      - key: sprite
        value: emoji:classical_building
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 10
      include_when:
        tourism: zoo
      attributes:
      - key: sort
        value: 35
      - key: sprite
        value: emoji:tiger
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 10
      include_when:
        tourism: theme_park
      attributes:
      - key: sort
        value: 30
      - key: sprite
        value: emoji:ferris_wheel
      - key: name
    - source: osm
      geometry: centroid
      min_zoom: 10
      include_when:
        tourism: aquarium
      attributes:
      - key: sort
        value: 25
      - key: sprite
        value: emoji:fish
      - key: name
    # Mid zoom - cities
    - source: osm
      geometry: centroid
      min_zoom: 6
      max_zoom: 10
      include_when:
        __all__:
          place: city
          __not__:
            capital: yes
      attributes:
      - key: sort
        value: 21
      - key: sprite
        value: emoji:cityscape
      - key: name
      - key: capital
    - source: osm
      geometry: centroid
      min_zoom: 6
      max_zoom: 10
      include_when:
        __all__:
          place: city
          capital: yes
      attributes:
      - key: sort
        value: 20
      - key: sprite
        value: emoji:cityscape
      - key: name
      - key: capital
    # Low zoom - countries
    - source: osm
      geometry: centroid
      min_zoom: 0
      max_zoom: 6
      include_when:
        place: country
      attributes:
      - key: sort
        value: 15
      - key: sprite
        value: emoji:flag-
      - key: name
      - key: ISO3166-1:alpha2 
      - key: ISO3166-1
      - key: country_code_iso3166_1_alpha_2
